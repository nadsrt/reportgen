{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Results{% endblock %}</h1>
{% endblock %}

{% block content %}
  <p>Results</p>
  <!-- bar chart canvas element -->
  <canvas id="barchart" width="600" height="400"></canvas>
  <script>
    // bar chart data
     var barData = {
         labels : [{% for item in labels %}
                        "{{item}}",
                    {% endfor %}],
         datasets : [
            {
                  fillColor: "rgba(151,187,205,0.2)",
                  strokeColor: "rgba(151,187,205,1)",
                  pointColor: "rgba(151,187,205,1)",
               data : [{% for item in values %}
                            {{item}},
                          {% endfor %}]
            }
            ]
         }

         // get bar chart canvas
         var mychart = document.getElementById("barchart").getContext("2d");

         steps = 10
         max = 250
         // draw bar chart
         new Chart(mychart).Bar(barData, {
              scaleOverride: true,
              scaleSteps: steps,
              scaleStepWidth: Math.ceil(max / steps),
              scaleStartValue: 0,
              scaleShowVerticalLines: true,
              scaleShowGridLines : true,
              barShowStroke : true,
              scaleShowLabels: true
         });

    </script>
    <!-- pie chart canvas element -->
    <br>
    <canvas id="piechart" width="600" height="400"></canvas>
    <script>
      // pie chart data
      var pieData = [
                  {% for item,label,colors in set %}
                      {
                          value: {{item}},
                          label: "{{label}}",
                          color : "{{colors}}"
                      },
                      {% endfor %}


               ];

         // get bar chart canvas
         var mychart = document.getElementById("piechart");

         steps = 10
         max = 10
         // draw pie chart
        new Chart(document.getElementById("piechart").getContext("2d")).Pie(pieData);
      </script>
  </div>
{% endblock %}
