{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Results{% endblock %}</h1>
{% endblock %}

{% block content %}
  <div class="row">
    <div class="col-md-6">
      <h2> {{ lbl1 | first }} </h2>
      <p> Busiest district </p>
    </div>
    <div class="col-md-6">
      <h2> {{ val1 | first }} </h2>
      <p> Highest number of patients {{ reg1 }}</p>
    </div>
  </div>
  <br>
  <!-- bar chart canvas element -->
  <canvas id="barchart"></canvas>
  <script>
  var config = {
     type: 'bar',
     data: {
         labels : [{% for item in lbl2 %}
                        "{{item}}",
                    {% endfor %}],
         datasets : [
            {
                  fillColor: "rgba(151,187,205,0.2)",
                  strokeColor: "rgba(151,187,205,1)",
                  pointColor: "rgba(151,187,205,1)",
               data : [{% for item in val2 %}
                            {{item}},
                          {% endfor %}]
            }
            ]
         }
   };
  // draw bar chart
  (function() {
    var ctx = document.getElementById("barchart").getContext("2d");
    window.myBar = new Chart(ctx, config);
  })()
  </script>
    <!-- bar chart 2 canvas element -->
    <br>
    <canvas id="barchart2"></canvas>
    <script>
     var config = {
        type: 'horizontalBar',
        data: {
            labels : [{% for item in lbl1 %}
                           "{{item}}",
                       {% endfor %}],
            datasets : [
               {
                     fillColor: "rgba(151,187,205,0.2)",
                     strokeColor: "rgba(151,187,205,1)",
                     pointColor: "rgba(151,187,205,1)",
                  data : [{% for item in val1 %}
                               {{item}},
                             {% endfor %}]
               }
               ]
            }
      };
   // draw bar chart
   (function() {
     var ctx = document.getElementById("barchart2").getContext("2d");
     window.myBar = new Chart(ctx, config);
   })()
    </script>
  </div>
{% endblock %}
